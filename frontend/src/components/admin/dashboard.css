/* ===== Scopé ===== */
.dp-root { position: relative; min-height: 100vh; background:#f6faf7; }
.dp-container { position: relative; z-index: 1; max-width: 1240px; margin: 18px auto 32px; padding: 0 16px; }

/* Fond doux animé */
.dp-bg .blob { position: fixed; filter: blur(60px); opacity: .45; animation: dp-float 18s ease-in-out infinite; z-index: 0; }
.dp-bg .b1 { top:-12%; left:-8%;  width:520px; height:520px; background:#a5d6a7; }
.dp-bg .b2 { bottom:-14%; right:-10%; width:620px; height:620px; background:#c8e6c9; animation-delay:3s; }
.dp-bg .b3 { top:45%; left:58%; width:420px; height:420px; background:#b2dfdb; animation-delay:6s; }
@keyframes dp-float { 0%,100%{transform:translate(0,0) scale(1)} 50%{transform:translate(14px,-16px) scale(1.05)} }

/* Style “glass” uniforme */
.glass {
  background: rgba(255,255,255,.82);
  border: 1px solid rgba(76,175,80,.18);
  box-shadow: 0 22px 55px rgba(0,0,0,.12);
  backdrop-filter: blur(8px);
  border-radius: 16px;
}

/* HERO */
.dp-hero {
  padding:14px 16px; margin-bottom:16px; display:flex; align-items:center; justify-content:space-between;
}
.hero-title { font-weight:900; color:#1b5e20; letter-spacing:.2px; }
.hero-sub { opacity:.9; }
.hero-refresh { color:#1b5e20 !important; }

/* KPIs */
.grid-kpi { display:grid; grid-template-columns: repeat(4, 1fr); gap: 14px; margin-bottom: 16px; }
.dp-card { position: relative; }
.dp-kpi {
  display:grid; grid-template-columns: auto 1fr auto; align-items:center; gap:12px;
  padding:14px; min-height:84px; transition: transform .18s ease, box-shadow .25s ease;
}
.dp-kpi:hover { transform: translateY(-2px); box-shadow: 0 18px 45px rgba(0,0,0,.14); }
.kpi-left { display:flex; align-items:center; gap:12px; grid-column: 1 / 3; }
.kpi-ic { width:44px; height:44px; background: rgba(46,125,50,.12); color:#2e7d32; }
.kpi-meta { display:flex; flex-direction:column; }
.kpi-label { font-weight:700; opacity:.85; }
.kpi-value { font-weight:900; font-size:30px; line-height:1; background:linear-gradient(90deg,#2e7d32,#66bb6a);
  -webkit-background-clip:text; background-clip:text; color:transparent; }
.kpi-chip { grid-column: 3 / 4; justify-self: end; background: rgba(46,125,50,.12)!important; color:#1b5e20!important; }

/* PANELS */
.grid-panels { display:grid; grid-template-columns: 7fr 5fr; gap: 16px; }
.panel { padding: 12px; min-height: 360px; display:flex; flex-direction:column; }
.panel-head { display:flex; align-items:center; justify-content:space-between; padding:2px 4px 6px; }
.panel-title { font-weight:800; color:#1b5e20; }
.panel-link { text-transform:none !important; color:#2e7d32 !important; font-weight:700 !important; }
.panel-pills { display:flex; gap:6px; }
.pill { background: rgba(46,125,50,.1)!important; color:#1b5e20!important; }
.pill-r { background: rgba(198,40,40,.1)!important; color:#c62828!important; }
.pill-c { background: rgba(255,152,0,.1)!important; color:#e65100!important; }

/* Corps panel scrollable (hauteur fixe) */
.panel-body { padding: 8px 4px; }
.panel-body.scroll { overflow:auto; max-height: 320px; }
.panel-body.scroll::-webkit-scrollbar { height:8px; width:8px; }
.panel-body.scroll::-webkit-scrollbar-thumb { background: rgba(46,125,50,.25); border-radius: 10px; }

/* Lignes unifiées */
.row { display:flex; align-items:center; gap:10px; padding:10px 2px; border-bottom:1px dashed rgba(76,175,80,.15); }
.row:last-child { border-bottom:none; }
.row-ic { width:34px; height:34px; background: rgba(46,125,50,.12); color:#2e7d32; }
.row-ic.rupture { background: rgba(198,40,40,.12); color:#c62828; }
.row-ic.critical { background: rgba(255,152,0,.15); color:#e65100; }
.row-main { flex: 1; min-width: 0; }
.row-title { font-weight:700; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.row-sub { opacity:.75; font-size:12px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.qchip { background: rgba(46,125,50,.1)!important; color:#1b5e20!important; }
.qchip.rupture { background: rgba(198,40,40,.1)!important; color:#c62828!important; }
.qchip.critical { background: rgba(255,152,0,.1)!important; color:#e65100!important; }

/* États */
.empty { padding: 12px; opacity:.8; }
.empty.ok { color:#2e7d32; font-weight:700; }

/* Responsive */
@media (max-width: 1024px){
  .grid-kpi { grid-template-columns: repeat(2, 1fr); }
  .grid-panels { grid-template-columns: 1fr; }
}
@media (max-width: 520px){
  .kpi-value { font-size: 26px; }
  .dp-kpi { grid-template-columns: auto 1fr auto; }
}
