/* ===== Analyse styles (scoped) ===== */
.analyse-root {
  position: relative;
  min-height: 100vh;
  overflow: hidden;
  padding: 20px 16px 48px;
}

/* ------ Fond animé (blobs verts) ------ */
.ana-bg .blob {
  position: absolute;
  filter: blur(70px);
  opacity: .45;
  animation: ana-float 18s ease-in-out infinite;
  will-change: transform;
  z-index: 0;
}
.ana-bg .b1 { top: -12%; left: -8%; width: 520px; height: 520px; background: #8fe3a1; }
.ana-bg .b2 { bottom: -14%; right: -10%; width: 620px; height: 620px; background: #c8e6c9; animation-delay: 3s; }
.ana-bg .b3 { top: 46%; left: 60%; width: 420px; height: 420px; background: #b2dfdb; animation-delay: 6s; }

@keyframes ana-float {
  0%, 100% { transform: translate(0,0) scale(1); }
  50% { transform: translate(14px,-18px) scale(1.05); }
}

/* ------ Look glass réutilisable ------ */
.glass {
  background: rgba(255,255,255,.78);
  border: 1px solid rgba(76,175,80,.22);
  backdrop-filter: blur(8px);
  box-shadow: 0 18px 45px rgba(0,0,0,.10);
  border-radius: 16px;
}

/* ------ HERO + actions ------ */
.ana-hero {
  position: relative;
  z-index: 1;
  padding: 18px 16px;
  margin-bottom: 14px;
  display: flex; align-items: center; justify-content: space-between;
  background:
    radial-gradient(1200px 200px at 10% -30%, rgba(165,214,167,.35), transparent 55%),
    radial-gradient(1200px 220px at 90% -40%, rgba(200,230,201,.35), transparent 60%),
    rgba(255,255,255,.78);
}
.hero-title {
  font-weight: 800; letter-spacing: .3px;
  display: flex; align-items: center; gap: 8px;
}
.hero-icon { opacity: .95; filter: drop-shadow(0 2px 4px rgba(46,125,50,.25)); }
.hero-sub { opacity: .85; }
.btn-icon { color: #1b5e20 !important; }

.time-toggle .MuiToggleButton-root {
  border: 1px solid rgba(76,175,80,.25);
  text-transform: none;
}
.time-toggle .Mui-selected {
  background: linear-gradient(135deg, #43a047, #2e7d32) !important;
  color: #fff !important;
}

/* ------ KPIs ------ */
.kpi-grid {
  position: relative; z-index: 1;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
  margin-bottom: 12px;
}
.kpi-card { padding: 14px; transition: transform .2s ease, box-shadow .2s ease; }
.kpi-card:hover { transform: translateY(-2px); box-shadow: 0 22px 60px rgba(0,0,0,.14); }
.kpi-label { color: #2e7d32; letter-spacing: .8px; }
.kpi-value { font-weight: 800; }
.kpi-sep { margin: 8px 0; opacity: .6; }
.kpi-foot { opacity: .8; }
.kpi-chip { font-weight: 700 !important; }

/* ------ Chart card ------ */
.chart-card { padding: 12px; position: relative; z-index: 1; }
.chart-title { font-weight: 700; }
.mini-legend {
  text-transform: none !important;
  color: #2e7d32 !important;
  background: rgba(46,125,50,.08) !important;
  border-radius: 999px !important;
  padding: 2px 8px !important;
}
.mini-legend .dot {
  width: 10px; height: 10px; border-radius: 50%;
  background: #2e7d32; display: inline-block; margin-right: 8px;
}

.chart-wrap { height: 380px; }
.chart-skeleton { height: 100%; border-radius: 12px; overflow: hidden; }

/* Hover flottant réutilisable */
.hover-float { transition: transform .22s ease, box-shadow .25s ease; }
.hover-float:hover { transform: translateY(-2px); box-shadow: 0 22px 60px rgba(0,0,0,.14); }

/* ------ Responsive ------ */
@media (max-width: 980px) {
  .kpi-grid { grid-template-columns: 1fr; }
  .chart-wrap { height: 320px; }
}
